<style>
<!--
article{
font: 12px/22px "宋体","Arial Narrow";
}

ul.contacts {
	width: 100%;
}

ul.contacts li {
	padding: 5px 1em;
	border-bottom: dotted 1px #E1E4E5;
}

ul.contacts .logo {
	float: left;
	height: 3em;
	width: 7em;
}

ul.contacts .content {	
	padding:0;
	margin:0 0 0 7em;
}

ul.contacts .content pre{
	margin-bottom: 3px;
}


div.right{
	float: right;
}
.nav.nav-tabs{
	padding-top: 1em;
}

-->
</style>

<form name="form" x-ng-submit="addContactRecord()" class="form-horizontal" novalidate>
	
<article class="module width_full">
	<header>
		<h1>交流记录</h1>
	</header>
	
	<ul class="nav nav-tabs">
		<li x-ng-repeat="c in companyList | limitTo:8" x-ng-Class="getActive(c.Name)">
			<a href="" x-ng-click="data.CompanyName=c.Name;refresh();">{{c.Name}}</a>
	  	</li>
	  	<li class="dropdown">
		    <a class="dropdown-toggle" data-toggle="dropdown" href="#">All<b class="caret"></b></a>
		    <ul class="dropdown-menu">
				<li x-ng-repeat="c in companyList" x-ng-Class="getActive(c.Name)">
					<a tabindex="-1" href="" x-ng-click="data.CompanyName=c.Name;refresh();">{{c.Name}}</a>
			  	</li>
		    </ul>
  		</li>
	</ul>
	
	
	<div class="control-group" style="clear: both;">
		<label class="control-label">客户名称</label>
		<div class="controls">
			<select x-ng-model="data.PersonName" x-ng-options="c.Name as c.Name for c in personList" required></select>
		</div>
	</div>
	<div class="control-group" style="clear: both;">
		<label class="control-label">交流内容</label>
		<div class="controls">
			<textarea x-ng-model="data.Content" cols="120" rows="4" class="span6" placeholder="请在此添加交流记录" required></textarea>
		</div>
	</div>	
	<div class="form-actions">
  		<input type="submit" class="btn btn-primary" x-ng-disabled="form.$invalid" value="添加">
	</div>
</article>
</form>

<article class="module width_full">
<header>
	<h3>历史记录</h3>
</header>
<div class="clear:both;"></div>
<!-- <span>{{remaining()}} of {{contactRecords.length}} remaining</span> [ <a href="" x-ng-click="archive()">archive</a> ] -->
<ul class="unstyled contacts ">
	<li x-ng-repeat="contactRecord in contactRecords | orderBy:'-LastUpdated'">
	<div class="logo">
		{{contactRecord.PersonName}}
	</div>
	<div class="content done-{{contactRecord.Done}}">
	<pre>{{contactRecord.Content}}</pre>
	</div>
	<div class="info">{{contactRecord.CompanyName}}<div class="right">{{contactRecord.LastUpdated}} &nbsp;</div></div>
	</li>
</ul>
</article>